# ğŸ“ é …ç›®çµæ§‹èªªæ˜

```
background-remover/
â”‚
â”œâ”€â”€ ğŸ“„ index.html                      # ä¸» HTML æ–‡ä»¶ - æ‡‰ç”¨å…¥å£
â”‚   â””â”€â”€ åŒ…å«ï¼šUI çµæ§‹ã€è¡¨å–®æ§ä»¶ã€ç•«å¸ƒå…ƒç´ 
â”‚
â”œâ”€â”€ ğŸ“ css/                            # æ¨£å¼æ–‡ä»¶ç›®éŒ„
â”‚   â””â”€â”€ ğŸ“„ styles.css                  # ä¸»æ¨£å¼è¡¨
â”‚       â”œâ”€â”€ å…¨å±€æ¨£å¼
â”‚       â”œâ”€â”€ å®¹å™¨å’Œä½ˆå±€
â”‚       â”œâ”€â”€ ç•«å¸ƒæ¨£å¼
â”‚       â”œâ”€â”€ æ§åˆ¶é¢æ¿
â”‚       â”œâ”€â”€ æŒ‰éˆ•å’Œè¼¸å…¥
â”‚       â””â”€â”€ éŸ¿æ‡‰å¼è¨­è¨ˆ
â”‚
â”œâ”€â”€ ğŸ“ js/                             # JavaScript æ¨¡å¡Šç›®éŒ„
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ app.js                      # ä¸»æ‡‰ç”¨å…¥å£æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ UIController é¡
â”‚   â”‚       â”œâ”€â”€ DOM å…ƒç´ ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ äº‹ä»¶è™•ç†
â”‚   â”‚       â”œâ”€â”€ ç‹€æ…‹ç®¡ç†
â”‚   â”‚       â””â”€â”€ UI æ›´æ–°é‚è¼¯
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ core/                       # æ ¸å¿ƒåŠŸèƒ½æ¨¡å¡Š
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ImageProcessor.js       # åœ–åƒè™•ç†é¡
â”‚   â”‚   â”‚   â”œâ”€â”€ loadImage()            # åŠ è¼‰åœ–åƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ calculateDimensions()  # è¨ˆç®—å°ºå¯¸
â”‚   â”‚   â”‚   â”œâ”€â”€ getPixelColor()        # ç²å–åƒç´ é¡è‰²
â”‚   â”‚   â”‚   â”œâ”€â”€ getImageData()         # ç²å–åœ–åƒæ•¸æ“š
â”‚   â”‚   â”‚   â”œâ”€â”€ putImageData()         # ç¹ªè£½åœ–åƒæ•¸æ“š
â”‚   â”‚   â”‚   â”œâ”€â”€ toDataURL()            # å°å‡ºåœ–åƒ
â”‚   â”‚   â”‚   â””â”€â”€ reset()                # é‡ç½®ç•«å¸ƒ
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ“„ BackgroundRemover.js    # èƒŒæ™¯å»é™¤æ ¸å¿ƒé¡
â”‚   â”‚       â”œâ”€â”€ removeBackground()     # ä¸»è¦èƒŒæ™¯å»é™¤æ–¹æ³•
â”‚   â”‚       â”œâ”€â”€ createBackgroundMask() # æ´ªæ°´å¡«å……ç®—æ³•
â”‚   â”‚       â”œâ”€â”€ applySmoothingToMask() # é‚Šç·£å¹³æ»‘è™•ç†
â”‚   â”‚       â”œâ”€â”€ getEdgeDistance()      # è¨ˆç®—é‚Šç·£è·é›¢
â”‚   â”‚       â”œâ”€â”€ applyMaskToImage()     # æ‡‰ç”¨é®ç½©
â”‚   â”‚       â””â”€â”€ replaceColor()         # é¡è‰²æ›¿æ›åŠŸèƒ½
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ utils/                      # å·¥å…·å‡½æ•¸ç›®éŒ„
â”‚       â””â”€â”€ ğŸ“„ ColorUtils.js           # é¡è‰²å·¥å…·é¡
â”‚           â”œâ”€â”€ hexToRgb()             # åå…­é€²åˆ¶è½‰ RGB
â”‚           â”œâ”€â”€ calculateColorDistance() # è¨ˆç®—é¡è‰²è·é›¢
â”‚           â”œâ”€â”€ isColorMatch()         # é¡è‰²åŒ¹é…æª¢æŸ¥
â”‚           â””â”€â”€ isValidRgb()           # RGB é©—è­‰
â”‚
â”œâ”€â”€ ğŸ“ docs/                           # æ–‡æª”ç›®éŒ„
â”‚   â”œâ”€â”€ ğŸ“„ DEVELOPER.md                # é–‹ç™¼è€…æ–‡æª”
â”‚   â”‚   â”œâ”€â”€ æ¶æ§‹æ¦‚è¦½
â”‚   â”‚   â”œâ”€â”€ æ ¸å¿ƒæ¨¡å¡Šèªªæ˜
â”‚   â”‚   â”œâ”€â”€ ç®—æ³•è©³è§£
â”‚   â”‚   â”œâ”€â”€ API åƒè€ƒ
â”‚   â”‚   â”œâ”€â”€ æ€§èƒ½å„ªåŒ–
â”‚   â”‚   â””â”€â”€ æ“´å±•æŒ‡å—
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ QUICKSTART.md               # å¿«é€Ÿå•Ÿå‹•æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ å•Ÿå‹•æ–¹æ³•
â”‚   â”‚   â”œâ”€â”€ ä½¿ç”¨èªªæ˜
â”‚   â”‚   â”œâ”€â”€ æŠ€å·§å»ºè­°
â”‚   â”‚   â””â”€â”€ å¸¸è¦‹å•é¡Œ
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“„ PROJECT_STRUCTURE.md        # æœ¬æ–‡ä»¶ - é …ç›®çµæ§‹èªªæ˜
â”‚
â”œâ”€â”€ ğŸ“„ README.md                       # é …ç›®ä¸»æ–‡æª”
â”‚   â”œâ”€â”€ åŠŸèƒ½ç‰¹é»
â”‚   â”œâ”€â”€ é–‹å§‹ä½¿ç”¨
â”‚   â”œâ”€â”€ ä½¿ç”¨èªªæ˜
â”‚   â”œâ”€â”€ æŠ€è¡“æ¶æ§‹
â”‚   â”œâ”€â”€ è¨­è¨ˆåŸå‰‡
â”‚   â”œâ”€â”€ å®‰å…¨æ€§
â”‚   â”œâ”€â”€ ç€è¦½å™¨å…¼å®¹æ€§
â”‚   â””â”€â”€ é–‹ç™¼æŒ‡å—
â”‚
â”œâ”€â”€ ğŸ“„ CONTRIBUTING.md                 # è²¢ç»æŒ‡å—
â”‚   â”œâ”€â”€ è¡Œç‚ºæº–å‰‡
â”‚   â”œâ”€â”€ å¦‚ä½•è²¢ç»
â”‚   â”œâ”€â”€ é–‹ç™¼æµç¨‹
â”‚   â”œâ”€â”€ ä»£ç¢¼è¦ç¯„
â”‚   â”œâ”€â”€ æäº¤è¨Šæ¯è¦ç¯„
â”‚   â””â”€â”€ Pull Request æµç¨‹
â”‚
â”œâ”€â”€ ğŸ“„ LICENSE                         # MIT æˆæ¬Šå”è­°
â”‚
â”œâ”€â”€ ğŸ“„ package.json                    # NPM é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ é …ç›®å…ƒæ•¸æ“š
â”‚   â”œâ”€â”€ è…³æœ¬å‘½ä»¤
â”‚   â””â”€â”€ ä¾è³´ä¿¡æ¯
â”‚
â””â”€â”€ ğŸ“„ .gitignore                      # Git å¿½ç•¥æ–‡ä»¶é…ç½®
    â”œâ”€â”€ æ“ä½œç³»çµ±æ–‡ä»¶
    â”œâ”€â”€ ç·¨è¼¯å™¨é…ç½®
    â”œâ”€â”€ Node.js æ–‡ä»¶
    â”œâ”€â”€ å‚™ä»½å’Œè‡¨æ™‚æ–‡ä»¶
    â””â”€â”€ é …ç›®ç‰¹å®šæ–‡ä»¶
```

## ğŸ”„ æ¨¡å¡Šä¾è³´é—œä¿‚

```
UIController (app.js)
    â”‚
    â”œâ”€â”€> ImageProcessor (core/ImageProcessor.js)
    â”‚    â””â”€â”€ ç®¡ç†ç•«å¸ƒå’Œåœ–åƒæ“ä½œ
    â”‚
    â”œâ”€â”€> BackgroundRemover (core/BackgroundRemover.js)
    â”‚    â”‚
    â”‚    â””â”€â”€> ImageProcessor
    â”‚         (å‚³å…¥ä»¥è¨ªå•åœ–åƒæ•¸æ“š)
    â”‚    â”‚
    â”‚    â””â”€â”€> ColorUtils (utils/ColorUtils.js)
    â”‚         (ç”¨æ–¼é¡è‰²è¨ˆç®—)
    â”‚
    â””â”€â”€> ColorUtils (utils/ColorUtils.js)
         (ç”¨æ–¼é¡è‰²è½‰æ›)
```

## ğŸ“Š æ•¸æ“šæµ

```
ç”¨æˆ¶äº¤äº’
    â†“
UIController æ¥æ”¶äº‹ä»¶
    â†“
    â”œâ”€â†’ æ–‡ä»¶ä¸Šå‚³
    â”‚   â””â”€â†’ ImageProcessor.loadImage()
    â”‚       â””â”€â†’ æ›´æ–°å…©å€‹ç•«å¸ƒ
    â”‚
    â”œâ”€â†’ ç•«å¸ƒé»æ“Š
    â”‚   â””â”€â†’ BackgroundRemover.removeBackground()
    â”‚       â”œâ”€â†’ ImageProcessor.getPixelColor()
    â”‚       â”œâ”€â†’ æ´ªæ°´å¡«å……ç®—æ³•
    â”‚       â”œâ”€â†’ å¹³æ»‘å’Œç¾½åŒ–è™•ç†
    â”‚       â””â”€â†’ è¿”å›è™•ç†å¾Œçš„ ImageData
    â”‚   â””â”€â†’ æ‡‰ç”¨é¡è‰²æ›¿æ›ï¼ˆå¦‚æœå•Ÿç”¨ï¼‰
    â”‚       â””â”€â†’ BackgroundRemover.replaceColor()
    â”‚   â””â”€â†’ ç¹ªè£½åˆ°çµæœç•«å¸ƒ
    â”‚
    â”œâ”€â†’ é‡ç½®æŒ‰éˆ•
    â”‚   â””â”€â†’ ImageProcessor.reset()
    â”‚       â””â”€â†’ é‡æ–°ç¹ªè£½åŸåœ–
    â”‚
    â””â”€â†’ ä¸‹è¼‰æŒ‰éˆ•
        â””â”€â†’ Canvas.toDataURL()
            â””â”€â†’ å‰µå»ºä¸‹è¼‰éˆæ¥
```

## ğŸ¯ é—œéµæ–‡ä»¶èªªæ˜

### HTML å±¤ (index.html)

**è·è²¬**ï¼šæä¾›æ‡‰ç”¨çš„ DOM çµæ§‹

**ä¸»è¦å…ƒç´ **ï¼š

- æ–‡ä»¶ä¸Šå‚³è¼¸å…¥
- å…©å€‹ Canvas å…ƒç´ ï¼ˆåŸåœ–å’Œçµæœï¼‰
- æ§åˆ¶æ»‘æ¡¿ï¼ˆå®¹å·®ã€å¹³æ»‘ã€ç¾½åŒ–ï¼‰
- é¡è‰²æ›¿æ›æ§ä»¶
- æ“ä½œæŒ‰éˆ•ï¼ˆé‡ç½®ã€ä¸‹è¼‰ï¼‰

### æ¨£å¼å±¤ (css/styles.css)

**è·è²¬**ï¼šå®šç¾©è¦–è¦ºå¤–è§€å’Œä½ˆå±€

**ä¸»è¦éƒ¨åˆ†**ï¼š

- éŸ¿æ‡‰å¼ä½ˆå±€
- ç¾ä»£åŒ– UI è¨­è¨ˆ
- æ£‹ç›¤æ ¼èƒŒæ™¯ï¼ˆé¡¯ç¤ºé€æ˜åº¦ï¼‰
- ç§»å‹•ç«¯é©é…

### é‚è¼¯å±¤ (js/)

#### UIController (app.js)

**è·è²¬**ï¼šå”èª¿æ‰€æœ‰çµ„ä»¶ï¼Œè™•ç†ç”¨æˆ¶äº¤äº’

**æ¨¡å¼**ï¼šæ§åˆ¶å™¨æ¨¡å¼ï¼ˆMVC ä¸­çš„ Cï¼‰

#### ImageProcessor (core/ImageProcessor.js)

**è·è²¬**ï¼šåœ–åƒåŠ è¼‰ã€ç¸®æ”¾ã€åŸºæœ¬æ“ä½œ

**æ¨¡å¼**ï¼šæœå‹™é¡

#### BackgroundRemover (core/BackgroundRemover.js)

**è·è²¬**ï¼šå¯¦ç¾èƒŒæ™¯å»é™¤å’Œé¡è‰²æ›¿æ›ç®—æ³•

**æ¨¡å¼**ï¼šç®—æ³•å°è£

#### ColorUtils (utils/ColorUtils.js)

**è·è²¬**ï¼šæä¾›é¡è‰²è¨ˆç®—å·¥å…·å‡½æ•¸

**æ¨¡å¼**ï¼šéœæ…‹å·¥å…·é¡

## ğŸ“¦ æ–‡ä»¶å¤§å°ä¼°ç®—

```
index.html           ~5 KB    HTML çµæ§‹
styles.css          ~5 KB    æ¨£å¼å®šç¾©
ColorUtils.js       ~3 KB    é¡è‰²å·¥å…·
ImageProcessor.js   ~5 KB    åœ–åƒè™•ç†
BackgroundRemover.js ~10 KB   æ ¸å¿ƒç®—æ³•
app.js              ~8 KB    UI æ§åˆ¶

ç¸½è¨ˆï¼šç´„ 36 KBï¼ˆæœªå£“ç¸®ï¼‰
```

## ğŸ”§ æ“´å±•å»ºè­°

### æ·»åŠ æ–°åŠŸèƒ½æ™‚çš„æ–‡ä»¶ä½ç½®

| åŠŸèƒ½é¡å‹         | æ‡‰è©²æ·»åŠ åˆ°                                                |
| ---------------- | --------------------------------------------------------- |
| æ–°çš„åœ–åƒè™•ç†ç®—æ³• | `core/BackgroundRemover.js` æˆ–æ–°å»º `core/NewProcessor.js` |
| æ–°çš„å·¥å…·å‡½æ•¸     | `utils/` ç›®éŒ„ä¸‹å‰µå»ºæ–°æ–‡ä»¶                                 |
| æ–°çš„ UI æ§ä»¶     | `index.html` + `UIController`                             |
| æ–°çš„æ¨£å¼         | `css/styles.css`                                          |
| æ–°çš„æ–‡æª”         | `docs/` ç›®éŒ„                                              |

### å‘½åè¦ç¯„

```
æ–‡ä»¶åï¼šPascalCase.js      ä¾‹å¦‚ï¼šImageProcessor.js
é¡åï¼š  PascalCase          ä¾‹å¦‚ï¼šclass ImageProcessor
æ–¹æ³•åï¼šcamelCase           ä¾‹å¦‚ï¼šloadImage()
è®Šé‡åï¼šcamelCase           ä¾‹å¦‚ï¼šoriginalCanvas
CSS é¡ï¼škebab-case          ä¾‹å¦‚ï¼š.canvas-container
å¸¸é‡ï¼š  UPPER_SNAKE_CASE    ä¾‹å¦‚ï¼šMAX_WIDTH
```

## ğŸ“ TODO å’Œæœªä¾†è¨ˆåŠƒ

å¯ä»¥æ·»åŠ é€™äº›åŠŸèƒ½ï¼š

```
ğŸ“ js/
  â”œâ”€â”€ ğŸ“ core/
  â”‚   â”œâ”€â”€ BackgroundRemover.js     [ç¾æœ‰]
  â”‚   â”œâ”€â”€ ImageProcessor.js        [ç¾æœ‰]
  â”‚   â”œâ”€â”€ BatchProcessor.js        [è¨ˆåŠƒ] æ‰¹é‡è™•ç†
  â”‚   â””â”€â”€ FilterEngine.js          [è¨ˆåŠƒ] æ¿¾é¡å¼•æ“
  â”‚
  â”œâ”€â”€ ğŸ“ utils/
  â”‚   â”œâ”€â”€ ColorUtils.js            [ç¾æœ‰]
  â”‚   â”œâ”€â”€ FileUtils.js             [è¨ˆåŠƒ] æ–‡ä»¶è™•ç†
  â”‚   â””â”€â”€ ValidationUtils.js       [è¨ˆåŠƒ] é©—è­‰å·¥å…·
  â”‚
  â””â”€â”€ ğŸ“ workers/
      â””â”€â”€ ImageWorker.js           [è¨ˆåŠƒ] Web Worker å¾Œå°è™•ç†
```

## ğŸš€ æ€§èƒ½è€ƒé‡

### ç•¶å‰å¯¦ç¾

- **åŒæ­¥è™•ç†**ï¼šåœ¨ä¸»ç·šç¨‹ä¸­è™•ç†åœ–åƒ
- **å…§å­˜ä½¿ç”¨**ï¼šç´„ (å¯¬ Ã— é«˜ Ã— 4) å­—ç¯€ Ã— 2-3 ä»½å‰¯æœ¬
- **æœ€å¤§åœ–åƒ**ï¼š350Ã—350 åƒç´ ï¼ˆè‡ªå‹•ç¸®æ”¾ï¼‰

### å„ªåŒ–æ–¹å‘

1. **ä½¿ç”¨ Web Workers**ï¼šå¤§åœ–åƒè™•ç†ç§»åˆ°å¾Œå°ç·šç¨‹
2. **æµå¼è™•ç†**ï¼šåˆ†å¡Šè™•ç†å¤§åœ–åƒ
3. **WebAssembly**ï¼šä½¿ç”¨ WASM åŠ é€Ÿç®—æ³•
4. **OffscreenCanvas**ï¼šé›¢å±æ¸²æŸ“æ¸›å°‘é‡ç¹ª

## ğŸ“š ç›¸é—œè³‡æº

- [MDN Canvas API](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API)
- [ES6 Modules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules)
- [JavaScript Best Practices](https://github.com/ryanmcdermott/clean-code-javascript)
- [CSS Guidelines](https://cssguidelin.es/)

---

**æ–‡æª”ç‰ˆæœ¬**: 1.0.0  
**æœ€å¾Œæ›´æ–°**: 2026-02-25  
**ç¶­è­·è€…**: Background Remover Team
